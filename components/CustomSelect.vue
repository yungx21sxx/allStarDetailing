<template>
	<div class="select">
		<div :class="['select__body', {
		}]">
			
			<div class="select__open-icon">
				<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M14.17 13.71L15.57 11.29C15.66 11.14 15.62 10.95 15.49 10.84L14.01 9.68C14.04 9.46 14.06 9.23 14.06 9C14.06 8.77 14.04 8.54 14.01 8.31L15.49 7.15C15.62 7.04 15.66 6.85 15.57 6.7L14.17 4.28C14.08 4.13 13.9 4.07 13.74 4.13L12 4.83C11.64 4.55 11.25 4.32 10.82 4.14L10.56 2.29C10.5432 2.20912 10.4994 2.13636 10.4358 2.08366C10.3722 2.03096 10.2926 2.00145 10.21 2H7.41C7.24 2 7.09 2.13 7.06 2.3L6.8 4.15C6.38 4.33 5.98 4.56 5.62 4.84L3.88 4.14C3.72 4.08 3.54 4.14 3.45 4.29L2.05 6.71C1.96 6.86 2 7.05 2.13 7.16L3.61 8.32C3.58 8.54 3.56 8.77 3.56 9C3.56 9.23 3.58 9.46 3.61 9.69L2.13 10.85C2 10.96 1.96 11.15 2.05 11.3L3.45 13.72C3.54 13.87 3.72 13.93 3.88 13.87L5.62 13.17C5.98 13.45 6.37 13.68 6.8 13.86L7.06 15.71C7.09 15.87 7.24 16 7.41 16H10.21C10.38 16 10.53 15.87 10.56 15.7L10.82 13.85C11.24 13.67 11.64 13.44 12 13.16L13.74 13.86C13.9 13.92 14.08 13.86 14.17 13.71V13.71ZM8.81 11C7.71 11 6.81 10.1 6.81 9C6.81 7.9 7.71 7 8.81 7C9.91 7 10.81 7.9 10.81 9C10.81 10.1 9.91 11 8.81 11ZM21.92 18.67L20.96 17.93C20.98 17.79 21 17.64 21 17.49C21 17.34 20.99 17.19 20.96 17.05L21.91 16.31C21.99 16.24 22.02 16.12 21.96 16.02L21.06 14.47C21.01 14.37 20.89 14.34 20.78 14.37L19.67 14.82C19.44 14.64 19.19 14.49 18.91 14.38L18.74 13.2C18.7361 13.1466 18.7124 13.0965 18.6736 13.0595C18.6347 13.0226 18.5836 13.0013 18.53 13H16.74C16.63 13 16.53 13.08 16.52 13.19L16.35 14.37C16.08 14.49 15.82 14.63 15.59 14.81L14.48 14.36C14.429 14.3408 14.3729 14.3404 14.3217 14.3587C14.2704 14.377 14.2273 14.4129 14.2 14.46L13.3 16.01C13.25 16.11 13.26 16.23 13.35 16.3L14.3 17.04C14.2588 17.3319 14.2588 17.6281 14.3 17.92L13.35 18.66C13.27 18.73 13.24 18.85 13.3 18.95L14.2 20.5C14.25 20.6 14.37 20.63 14.48 20.6L15.59 20.15C15.82 20.33 16.07 20.48 16.35 20.59L16.52 21.77C16.54 21.88 16.63 21.96 16.74 21.96H18.53C18.64 21.96 18.74 21.88 18.75 21.77L18.92 20.59C19.19 20.47 19.45 20.33 19.67 20.15L20.79 20.6C20.89 20.64 21.01 20.6 21.07 20.5L21.97 18.95C22.03 18.86 22 18.74 21.92 18.67V18.67ZM17.63 18.83C17.2718 18.8299 16.9284 18.6875 16.6752 18.4341C16.422 18.1807 16.2799 17.8372 16.28 17.479C16.2801 17.1208 16.4225 16.7774 16.6759 16.5242C16.9293 16.271 17.2728 16.1289 17.631 16.129C17.9892 16.1291 18.3326 16.2715 18.5858 16.5249C18.839 16.7783 18.9811 17.1218 18.981 17.48C18.9809 17.8382 18.8385 18.1816 18.5851 18.4348C18.3317 18.688 17.9882 18.8301 17.63 18.83V18.83Z" fill="#CC9933"/>
				</svg>
			</div>
			<div class="select__line"></div>
			<div class="select__chosen-param">
				{{ chosenParam }}
			</div>
			
			<select class="select__options" v-model="chosenParam" @change="emitValue" >
				<option disabled>Выберите услугу</option>
				<option v-for="param in params"
				        :value="param.title"
				>{{param.title}}</option>
			</select>
		</div>
	</div>
	
</template>

<script>
export default {
	name: "CustomSelect",
	props: {
		params: {
			type: Array,
			required: false
		},
	},
	data: () => ({
		chosenParam: "",
		chosenAmount: 1
	}),
	methods: {
		emitValue(event) {
			
			
				this.$emit('update:param', this.chosenParam.title)
			
			
		}
	},
	mounted() {
		this.chosenParam = 'Выберите услугу '
	}
}
</script>

<style scoped lang="scss">
	.select {
		height: 40px;
		&__body {
			width: 100%;
			height: 100%;
			align-items: center;
			cursor: pointer;
			display: flex;
			flex-wrap: wrap;
			justify-content: space-between;
			min-height: 23px;
			position: relative;
			outline: 0;
			border-radius: 5px;
			border: solid 1px #cccccc;
			background-color: #F7F7F7;
			text-align: left;
		}
		&__chosen-param {
			align-items: center;
			flex: 1 1 0%;
			padding: 2px 6px;
			overflow: hidden;
			color: rgb(63, 63, 63);
			font-size: 14px;
			white-space: nowrap;
			text-overflow: ellipsis;
			width: 30px;
		}
		
		&__open-icon {
			align-items: center;
			align-self: stretch;
			justify-content: center;
			display: flex;
			flex-shrink: 0;
			width: 35px;
			
			svg path {
				fill: #CC9933;
			}
		}
		
		&__options {
			position: absolute;
			left: 10px;
			top: 3px;
			height: 100%;
			width: 100%;
			outline: none;
			opacity: 0;
			cursor: pointer;
			-webkit-appearance: none;
			-moz-appearance: none;
			appearance: none;
		}
		&__line {
			background: #cccccc;
			width: 1px;
			height: 29px;
		}
	}

</style>